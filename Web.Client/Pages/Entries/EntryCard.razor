@if ((Entry is not null) && EmployeesDataStore.IsLoaded)
{
	<EditForm EditContext="editContext">
		<FluentValidationValidator />
		<HxFormState Enabled="@(Entry.Submitted is null)">
			<HxCard CssClass="d-inline-flex me-2 mb-2" style="width:350px">
				<BodyTemplate>

					<HxCardTitle>
						<EmployeePicker @bind-Value="Entry.RecipientId" />
						<HxBadge Color="@(Entry.Submitted is null ? ThemeColor.Light : ThemeColor.Info)">
							<HxInputNumber @bind-Value="@Entry.Value"
										   InputSize="InputSize.Small"
										   style="width:3rem" />
						</HxBadge>
					</HxCardTitle>

					<HxInputTextArea @bind-Value="@Entry.Text" style="height: 50px; overflow: auto" />

					<HxInputTags @bind-Value="@Entry.Tags" Naked="true" ShowAddButton="true" AddButtonText="tag" />

					@if (Entry.Submitted is not null)
					{
						<small class="text-muted">vloženo @Entry.Submitted.Value.ToShortDateString()	</small>
					}
					else
					{
						@if (Entry.Id != default)
						{
							<small class="text-muted">koncept</small>
							<HxButton Icon="BootstrapIcon.Trash" OnClick="HandleDeleteClick" />
						}
						else
						{
							<small class="text-muted">nový</small>
							<HxButton Icon="BootstrapIcon.PlusCircle"
									  Color="ThemeColor.Primary"
									  OnValidClick="HandleNewClick"
									  Size="ButtonSize.Small"
									  Text="přidej" />
						}
					}
				</BodyTemplate>
			</HxCard>
		</HxFormState>
	</EditForm>
}